/* Современный светлый дизайн для криптоприложения */

/* Базовые стили */
* {
    font-family: 'Segoe UI', 'Roboto', 'Open Sans', sans-serif;
    color: #303030;
}

QWidget {
    background: #f8f8f5;
    font-size: 14px;
}

QMainWindow, QDialog {
    background: #f8f8f5;
}

/* Кнопки */
QPushButton {
    background: #ffffff;
    border: 1px solid #e6e6e6;
    border-radius: 8px;
    padding: 8px 16px;
    font-weight: 500;
    min-height: 18px;
}

QPushButton:hover {
    background: #ffebeb;
    border-color: #ffdada;
}

QPushButton:pressed {
    background: #ffd6d6;
}

QPushButton:checked {
    background: #ffebeb;
    color: #ff6b6b;
}

/* Акцентные кнопки */
QPushButton#refreshButton, QPushButton#settingsButton, QPushButton.accent {
    background: #ffebeb;
    color: #ff6b6b;
    border: none;
}

QPushButton#refreshButton:hover, QPushButton#settingsButton:hover, QPushButton.accent:hover {
    background: #ffd6d6;
}

/* Панели и рамки */
QFrame, QGroupBox {
    background: #ffffff;
    border-radius: 12px;
    border: 1px solid #efefef;
}

/* Боковая панель */
QFrame#sidePanel {
    background: #ffffff;
    border-radius: 12px;
    padding: 12px 0;
}

QFrame#sidePanel QLabel {
    color: #303030;
    font-weight: 600;
    padding: 8px 16px 4px 16px;
}

QFrame#sidePanel QPushButton {
    text-align: left;
    padding: 10px 16px;
    border-radius: 8px;
    border: none;
    margin: 2px 8px;
    background: transparent;
}

QFrame#sidePanel QPushButton:checked {
    background: #ffebeb;
    color: #ff6b6b;
}

/* Верхняя панель */
QFrame#topPanel {
    background: #9d9696;
    border-radius: 12px;
    padding: 8px 16px;
}

/* Вкладки - исправленные стили */
QTabWidget::pane {
    border: 0 !important;
    border-width: 0 !important;
    border-color: transparent !important;
    background: transparent !important;
    margin-top: 0 !important;
}

/* Дополнительный стиль для QTabWidget */
QTabWidget::pane {
    position: absolute;
    top: -1px;
}

/* Убираем линию под вкладками полностью */
QTabBar::tab {
    background: #ffffff;
    border: 1px solid #efefef;
    border-bottom: none !important; /* Важно, чтобы убрать нижнюю линию */
    padding: 8px 20px;
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
    margin-right: 2px;
}

QTabBar::tab:selected {
    background: #ffebeb;
    color: #ff6b6b;
    font-weight: 500;
    border-bottom: 1px solid #f8f8f5 !important; /* Перекрываем серую линию цветом фона */
}

/* Фиксированный размер прокрутки */
QTabWidget QWidget {
    background-color: #f8f8f5;
}

/* Таблицы и списки */
QListWidget, QTreeWidget, QTableWidget {
    background: #ffffff;
    border: 1px solid #efefef;
    border-radius: 8px;
    padding: 4px;
    outline: none;
}

QListWidget::item, QTreeWidget::item, QTableWidget::item {
    padding: 8px;
    border-radius: 6px;
}

QListWidget::item:selected, QTreeWidget::item:selected, QTableWidget::item:selected {
    background: #ffebeb;
    color: #ff6b6b;
}

/* Поля ввода */
QLineEdit, QTextEdit, QComboBox, QSpinBox {
    background: #ffffff;
    border: 1px solid #e6e6e6;
    border-radius: 8px;
    padding: 8px;
    selection-background-color: #ffebeb;
}

QLineEdit:focus, QTextEdit:focus, QComboBox:focus, QSpinBox:focus {
    border: 1px solid #ffd6d6;
}

/* Комбо-бокс */
QComboBox {
    padding-right: 20px;
}

QComboBox::drop-down {
    border: none;
    width: 20px;
}

QComboBox::down-arrow {
    width: 12px;
    height: 12px;
}

/* Полосы прокрутки */
QScrollBar:vertical {
    background: #e1e1e1;
    width: 8px;
    margin: 0;
}

QScrollBar::handle:vertical {
    background: #e6e6e6;
    border-radius: 4px;
    min-height: 30px;
}

QScrollBar::handle:vertical:hover {
    background: #d6d6d6;
}

QScrollBar::add-line:vertical, QScrollBar::sub-line:vertical,
QScrollBar::add-page:vertical, QScrollBar::sub-page:vertical {
    background: none;
    height: 0;
    width: 0;
}

/* Статусная строка */
QStatusBar {
    background: #ffffff;
    color: #909090;
    border-top: 1px solid #efefef;
}

/* Виджет криптовалюты */
QFrame#cryptoWidget {
    background: #efefef;
    border-radius: 12px;
    border: 1px solid #efefef;
    padding: 8px;
}

/* Группы в боковой панели */
QFrame#exchangeGroup, QFrame#cryptoGroup, QFrame#infoGroup {
    background: transparent;
    border: none;
    margin-bottom: 12px;
}

/* Метки-заголовки */
.section-header, QLabel.header, QLabel[heading="true"] {
    color: #303030;
    font-weight: 600;
    font-size: 16px;
}

/* График для карточки с валютой */
QWidget#priceChart {
    background: qlineargradient(x1:0, y1:0, x2:1, y2:1, stop:0 rgba(255, 235, 235, 0.6), stop:1 rgba(255, 214, 214, 0.3));
    border-radius: 8px;
    border: none;
}

/* Цвета трендов */
.trend-up {
    color: #4CAF50;
}

.trend-down {
    color: #F44336;
}

/* Карточка обмена */
QFrame#exchangeWidget {
    background: #ffffff;
    border-radius: 12px;
    border: 1px solid #efefef;
    padding: 16px;
}

/* Метки цен */
.price-value {
    font-size: 20px;
    font-weight: 600;
    color: #303030;
}

/* Градиентные карточки */
QWidget.card, QFrame.card {
    background: qlineargradient(x1:0, y1:0, x2:1, y2:1, stop:0 #ffebeb, stop:1 #ffffff);
    border-radius: 12px;
    border: 1px solid #ffdada;
    padding: 16px;
}

/* Полное удаление серой линии под вкладками */
QTabWidget {
    background-color: #f8f8f5;
    border: none !important;
}

QTabWidget::pane {
    background-color: #ffffff !important;
    border: none !important;
    margin-top: -1px !important;
    padding: 15px;
}

QTabWidget::tab-bar {
    background-color: #f8f8f5;
    border: none !important;
}

/* Перекрывающий элемент для скрытия серой линии */
QTabBar::scroller {
    background-color: #f8f8f5;
    border: none;
    height: 2px;
}

/* Принудительное удаление всех границ */
QTabWidget *, QTabBar * {
    border-bottom-width: 0 !important;
}

QTabBar::tab {
    padding: 8px 20px;
    background-color: #ffffff;
    border: 1px solid #efefef;
    border-bottom: none !important;
    margin-bottom: 0px !important;
}

QTabBar::tab:selected {
    background-color: #ffebeb;
    color: #ff6b6b;
    font-weight: bold;
    border-bottom: 0px !important;
}

QStackedWidget {
    background-color: #ffffff !important;
    border: none !important;
    margin-top: 0px !important;
}

QWidget#centralWidget {
    background-color: yellow;
    border: 0px;
}

/* Убираем фон для виджетов внутри QTabWidget, чтобы они не перекрывали белый фон */
QTabWidget > QWidget {
    background-color: transparent;
}

/* === Стили для темной темы === */
QMainWindow[theme="dark"] QWidget {
    background-color: #2e2e2e;
    color: #e0e0e0;
}
QMainWindow[theme="dark"] * {
    color: #e0e0e0;
}
QMainWindow[theme="dark"],
QMainWindow[theme="dark"] QDialog {
    background-color: #2e2e2e;
}
QMainWindow[theme="dark"] QFrame#cryptoWidget {
    background-color: #363636; 
    border: 1px solid #4a4a4a;
}
QMainWindow[theme="dark"] QFrame#priceWidget,
QMainWindow[theme="dark"] QFrame#spreadWidget {
    background-color: #2e2e2e;
    border: 1px solid #404040; 
    border-radius: 8px;
}
QMainWindow[theme="dark"] QFrame#priceWidget QLabel,
QMainWindow[theme="dark"] QFrame#spreadWidget QLabel {
    color: #cccccc;
    background-color: transparent;
}
QMainWindow[theme="dark"] QLabel#priceValueLabel {
    color: #f0f0f0;
}
QMainWindow[theme="dark"] QLabel#spot_price {
    color: #a0a0a0;
}
QMainWindow[theme="dark"] QFrame#sidePanel QPushButton {
    color: #e0e0e0;
}
QMainWindow[theme="dark"] QFrame#sidePanel QPushButton:checked {
    background-color: #503030;
    color: #ff9090;
}
QMainWindow[theme="dark"] QFrame#sidePanel QPushButton:hover {
    background-color: #404040;
}
QMainWindow[theme="dark"] QFrame#topPanel {
    background-color: #1c1c1c;
}
QMainWindow[theme="dark"] QFrame#topPanel QLabel {
    color: #f5f5f5;
}
QMainWindow[theme="dark"] QFrame#topPanel QPushButton {
    background-color: #503030;
    color: #ff9090;
    border: 1px solid #5a5a5a;
}
QMainWindow[theme="dark"] QFrame#topPanel QPushButton:hover {
    background-color: #604040;
}
QMainWindow[theme="dark"] QFrame#topPanel QComboBox {
    background-color: #3a3a3a;
    color: #e0e0e0;
    border: 1px solid #5a5a5a;
}
QMainWindow[theme="dark"] QPushButton {
    background-color: #3a3a3a;
    color: #e0e0e0;
    border: 1px solid #5a5a5a;
}
QMainWindow[theme="dark"] QPushButton:hover {
    background-color: #4a4a4a;
    border-color: #6a6a6a;
}
QMainWindow[theme="dark"] QPushButton:pressed {
    background-color: #2a2a2a;
}
QMainWindow[theme="dark"] QTabBar::tab {
    background-color: #3a3a3a;
    color: #c0c0c0;
    border: 1px solid #4a4a4a;
    border-bottom: none;
}
QMainWindow[theme="dark"] QTabBar::tab:selected {
    background-color: #503030;
    color: #ff9090;
}
QMainWindow[theme="dark"] QTabWidget::pane {
    background-color: #363636 !important;
    border: none !important;
}
QMainWindow[theme="dark"] QStatusBar {
    background-color: #1c1c1c;
    color: #a0a0a0;
    border-top: 1px solid #404040;
}

/* === Стили для темной темы === */
QMainWindow[theme="dark"] QWidget {
    background-color: #2e2e2e;
    color: #e0e0e0;
}
QMainWindow[theme="dark"] * {
    color: #e0e0e0;
}
QMainWindow[theme="dark"],
QMainWindow[theme="dark"] QDialog {
    background-color: #2e2e2e;
}
QMainWindow[theme="dark"] QFrame#cryptoWidget {
    background-color: #363636; 
    border: 1px solid #4a4a4a;
}
QMainWindow[theme="dark"] QFrame#priceWidget,
QMainWindow[theme="dark"] QFrame#spreadWidget {
    background-color: #2e2e2e;
    border: 1px solid #404040; 
    border-radius: 8px;
}
QMainWindow[theme="dark"] QFrame#priceWidget QLabel,
QMainWindow[theme="dark"] QFrame#spreadWidget QLabel {
    color: #cccccc;
    background-color: transparent;
}
QMainWindow[theme="dark"] QLabel#priceValueLabel {
    color: #f0f0f0;
}
QMainWindow[theme="dark"] QLabel#spot_price {
    color: #a0a0a0;
}
QMainWindow[theme="dark"] QFrame#sidePanel QPushButton {
    color: #e0e0e0;
}
QMainWindow[theme="dark"] QFrame#sidePanel QPushButton:checked {
    background-color: #503030;
    color: #ff9090;
}
QMainWindow[theme="dark"] QFrame#sidePanel QPushButton:hover {
    background-color: #404040;
}
QMainWindow[theme="dark"] QFrame#topPanel {
    background-color: #1c1c1c;
}
QMainWindow[theme="dark"] QFrame#topPanel QLabel {
    color: #f5f5f5;
}
QMainWindow[theme="dark"] QFrame#topPanel QPushButton {
    background-color: #503030;
    color: #ff9090;
    border: 1px solid #5a5a5a;
}
QMainWindow[theme="dark"] QFrame#topPanel QPushButton:hover {
    background-color: #604040;
}
QMainWindow[theme="dark"] QFrame#topPanel QComboBox {
    background-color: #3a3a3a;
    color: #e0e0e0;
    border: 1px solid #5a5a5a;
}
QMainWindow[theme="dark"] QPushButton {
    background-color: #3a3a3a;
    color: #e0e0e0;
    border: 1px solid #5a5a5a;
}
QMainWindow[theme="dark"] QPushButton:hover {
    background-color: #4a4a4a;
    border-color: #6a6a6a;
}
QMainWindow[theme="dark"] QPushButton:pressed {
    background-color: #2a2a2a;
}
QMainWindow[theme="dark"] QTabBar::tab {
    background-color: #3a3a3a;
    color: #c0c0c0;
    border: 1px solid #4a4a4a;
    border-bottom: none;
}
QMainWindow[theme="dark"] QTabBar::tab:selected {
    background-color: #503030;
    color: #ff9090;
}
QMainWindow[theme="dark"] QTabWidget::pane {
    background-color: #363636 !important;
    border: none !important;
}
QMainWindow[theme="dark"] QStatusBar {
    background-color: #1c1c1c;
    color: #a0a0a0;
    border-top: 1px solid #404040;
}

/* Внутри секции QMainWindow[theme="dark"] в custom.css */

QMainWindow[theme="dark"] QFrame#exchangeWidget {
    background-color: #363636; /* Такой же фон, как у cryptoWidget и QTabWidget::pane */
    border: 1px solid #4a4a4a; /* Соответствующая рамка */
    border-radius: 12px;
    padding: 16px;
}

/* Также нужно убедиться, что заголовок биржи внутри ExchangeWidget имеет правильный цвет */
QMainWindow[theme="dark"] QFrame#exchangeWidget QLabel { /* Это заголовок типа "BYBIT" */
    color: #e0e0e0; /* Светлый цвет текста */
    background-color: transparent; /* Убедимся, что фон метки прозрачный */
}